## Tomcat性能调优



##### 线程数量设置：

线程数具体设多少，根据具体业务而定，如果你的业务是IO密集型的，比如大量线程等待在数据库读写上，线程数应该设的越高。如果是CPU密集型，完全没有阻塞，设成CPU核数就行

理论上：

线程数=（(线程阻塞时间 + 线程忙绿时间) / 线程忙碌时间) * cpu核数

如果线程始终不阻塞，一直忙碌，会一直占用一个CPU核，因此可以直接设置 线程数=CPU核数。

但是现实中线程可能会被阻塞，比如等待IO。因此根据上面的公式确定线程数。

那怎么确定线程的忙碌时间和阻塞时间？要经过压测，在代码中埋点统计，**TODO**

